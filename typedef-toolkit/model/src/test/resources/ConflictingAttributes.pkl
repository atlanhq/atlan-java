amends "modulepath:/Model.pkl"

t = "ConflictingAttributes"
a = t.decapitalize()

shared {
  supertypeDefinition {
    name = t
    description = "Base class for all \(t) types."
    superTypes { "Catalog" }
    attributes {
      ["\(a)SourceId"] {
        description = "Unique identifier for the \(t) asset from the source system."
        type = "string"
      }
    }
  }
}

customTypes {
  ["\(t)Table"] {
    description = "Instances of \(t)Table in Atlan."
    attributes {
      ["\(a)ChildTables"] {
        description = "Simple attribute whose name will conflict with a relationship attribute."
        type = "string"
      }
      ["\(a)Ratings"] {
        description = "Ratings for the \(t)Table asset from the source system."
        type = "struct"
        structName = "\(t)Ratings"
        multiValued = true
      }
    }
    relationships {
      ["\(a)_parent_child"] {
        description = "Hierarchical nesting relationship between \(t)Table (parent) and \(t)Table (children)."
        parent {
          type = "\(t)Table"
          attribute = "\(a)ChildTables"
          description = "Nested tables."
        }
        children {
          type = "\(t)Table"
          attribute = "\(a)ParentTable"
          description = "Parent table."
        }
      }
    }
  }
}
